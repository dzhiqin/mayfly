(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{182:function(n,t,e){"use strict";var a=e(313),i=e.n(a),r=e(22),o=e.n(r),s=e(34),l=e(314),u=e.n(l),c=e(1),d=e(190),f=((new d.a).add("GET","GET",1).add("POST","POST",2).add("PUT","PUT",3).add("DELETE","DELETE",4),(new d.a).add("SUCCESS","操作成功",200).add("ERROR","操作失败",400).add("PARAM_ERROR","参数错误",405).add("SERVER_ERROR","服务器异常",500).add("NO_PERMISSION","没有权限",501));function h(n){return"".concat(c.a.apiUrl).concat(n)}function p(n,t){return n.replace(/\{\w+\}/g,(function(n){var e=n.substring(1,n.length-1),a=t[e];return null!=a||null!=a?a:""}))}function m(n,t,e){if(t){-1!=t.indexOf("{")&&(t=p(t,e)),u.a.defaults.headers.token=sessionStorage.getItem(c.a.name.tokenKey);var a={method:n,url:h(t)},r=n.toLowerCase();return"post"===r||"put"===r?(a.headers={"Content-Type":"application/json;charset=UTF-8"},a.data=e):a.params=e,u.a.request(a).then((function(n){return function(n){return new Promise((function(t,e){if(200===n.status){var a=n.data;if(a.code===f.NO_PERMISSION.value)return sessionStorage.removeItem(c.a.name.tokenKey),o.a.Notification.error({title:"请求错误",message:"登录超时"}),void setTimeout((function(){s.a.push({path:"/login"})}),1e3);a.code===f.SUCCESS.value?t(a.data):e(a.msg)}else e("请求异常")}))}(n)})).catch((function(n){return"object"==i()(n)?o.a.Message.error(n.message):o.a.Message.error(n),Promise.reject(n)}))}}t.a={request:m,send:function(n,t){return m(n.method,n.url,t)},parseRestUrl:p,getApiUrl:function(n){return h(n)+"?token="+sessionStorage.getItem(c.a.name.tokenKey)}}},190:function(n,t,e){"use strict";e.d(t,"a",(function(){return s}));var a=e(6),i=e.n(a),r=e(11),o=e.n(r),s=function(){function n(){i()(this,n)}return o()(n,[{key:"add",value:function(n,t,e){return this[n]={label:t,value:e},this}},{key:"getLabelByValue",value:function(n){if(null==n)return"";for(var t in this){var e=this[t];if(e&&e.value===n)return e.label}return""}}]),n}()},257:function(n,t,e){var a=e(36),i=e(406);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[n.i,i,""]]);var r={insert:"head",singleton:!1};a(i,r);n.exports=i.locals||{}},258:function(n,t,e){"use strict";var a=e(182);t.a={login:function(n){return a.a.request("POST","/open/login",n)},captcha:function(){return a.a.request("GET","/open/captcha")},logout:function(n){return a.a.request("POST","/sys/accounts/logout/{token}",n)}}},260:function(n,t,e){var a=e(36),i=e(426);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[n.i,i,""]]);var r={insert:"head",singleton:!1};a(i,r);n.exports=i.locals||{}},405:function(n,t,e){"use strict";var a=e(257);e.n(a).a},406:function(n,t,e){(t=e(37)(!1)).push([n.i,".footer {\n  width: 100%;\n  font-size: 14px;\n  background: #fff;\n  line-height: 50px;\n  padding: 0 12px;\n  height: 50px;\n  color: #444;\n  border-top: 1px solid #d2d6de;\n}\n.footer .version {\n  float: right;\n}\n.footer .version b {\n  font-weight: 700;\n}\n.footer .version .github {\n  color: #444;\n  font-size: 20px;\n  margin-left: 8px;\n}\n.footer .version .github:hover {\n  color: #8BC34A;\n}\n",""]),n.exports=t},425:function(n,t,e){"use strict";var a=e(260);e.n(a).a},426:function(n,t,e){(t=e(37)(!1)).push([n.i,".main {\n  display: flex;\n}\n.main .el-menu:not(.el-menu--collapse) {\n  width: 230px;\n}\n.main .app {\n  width: 100%;\n  background-color: #ecf0f5;\n}\n.main .aside {\n  position: fixed;\n  margin-top: 50px;\n  z-index: 10;\n  background-color: #222d32;\n  transition: all 0.3s ease-in-out;\n}\n.main .aside .menu {\n  overflow-y: auto;\n  height: calc(100vh);\n}\n.main .app-body {\n  margin-left: 230px;\n  -webkit-transition: margin-left 0.3s ease-in-out;\n  transition: margin-left 0.3s ease-in-out;\n}\n.main .main-container {\n  margin-top: 88px;\n  padding: 2px;\n  min-height: calc(100vh - 88px);\n}\n.header {\n  width: 100%;\n  position: fixed;\n  display: flex;\n  height: 50px;\n  background-color: #303643;\n  z-index: 10;\n}\n.header .logo {\n  width: 230px;\n  height: 50px;\n  text-align: center;\n  line-height: 50px;\n  color: #fff;\n  background-color: #303643;\n  -webkit-transition: width 0.35s;\n  transition: all 0.3s ease-in-out;\n}\n.header .logo .min {\n  display: none;\n}\n.header .right {\n  position: absolute;\n  right: 0;\n}\n.header .header-btn {\n  overflow: hidden;\n  height: 50px;\n  display: inline-block;\n  text-align: center;\n  line-height: 50px;\n  cursor: pointer;\n  padding: 0 14px;\n  color: #fff;\n}\n.header .header-btn .el-badge__content {\n  top: 14px;\n  right: 7px;\n  text-align: center;\n  font-size: 9px;\n  padding: 0 3px;\n  background-color: #00a65a;\n  color: #fff;\n  border: none;\n  white-space: nowrap;\n  vertical-align: baseline;\n  border-radius: 0.25em;\n}\n.header .header-btn:hover {\n  background-color: #222d32;\n}\n.menu {\n  border-right: none;\n  moz-user-select: -moz-none;\n  -moz-user-select: none;\n  -o-user-select: none;\n  -khtml-user-select: none;\n  -webkit-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.el-menu--vertical {\n  min-width: 190px;\n}\n.setting-category {\n  padding: 10px 0;\n  border-bottom: 1px solid #eee;\n}\n#mainContainer iframe {\n  border: none;\n  outline: none;\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  background-color: #ecf0f5;\n}\n.el-submenu__title {\n  font-weight: 500;\n}\n.el-menu-item {\n  font-weight: 500;\n}\n#nav-bar {\n  margin-top: 50px;\n  height: 38px;\n  width: 100%;\n  z-index: 8;\n  background: #fff;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.12), 0 0 3px 0 rgba(0, 0, 0, 0.04);\n  position: fixed;\n  top: 0;\n}\n",""]),n.exports=t},754:function(n,t,e){"use strict";e.r(t);var a={data:function(){return{}},methods:{}},i=(e(405),e(61)),r=Object(i.a)(a,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"footer"},[e("div",{staticClass:"version"},[e("b",[n._v("Version")]),n._v(" "+n._s(n.$Config.version)+"\n    "),e("a",{attrs:{href:n.$Config.gitHub,target:"_blank"}},[e("i",{staticClass:"fa fa-github github"})])]),n._v(" "),e("strong",[n._v("Copyright © 2014-2016 "),e("a",{attrs:{href:"javascript:;"}},[n._v(n._s(n.$Config.siteName))]),n._v(".")]),n._v(" All rights reserved.\n")])}),[],!1,null,null,null).exports,o={props:["menus"],name:"MenuTree",methods:{toPath:function(n){this.$emit("toPath",n)}}},s=Object(i.a)(o,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",[n._l(this.menus,(function(t){return[t.children&&1===t.children[0].type?e("el-submenu",{key:t.id,attrs:{index:t.code?t.code:t.id+""}},[e("template",{slot:"title"},[e("i",{class:t.icon}),n._v(" "),e("span",{attrs:{slot:"title"},slot:"title"},[n._v(n._s(t.name))])]),n._v(" "),e("MenuTree",{attrs:{menus:t.children},on:{toPath:n.toPath}})],2):e("el-menu-item",{key:t.id,attrs:{index:t.code?t.code:t.id+""},on:{click:function(e){return n.toPath(t)}}},[e("i",{staticClass:"iconfont",class:t.icon}),n._v(" "),e("span",{attrs:{slot:"title"},slot:"title"},[n._v(n._s(t.name))])])]}))],2)}),[],!1,null,null,null).exports,l=e(258);function u(n){if("undefined"==typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(n=function(n,t){if(!n)return;if("string"==typeof n)return c(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return c(n,t)}(n))){var t=0,e=function(){};return{s:e,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,r=!0,o=!1;return{s:function(){a=n[Symbol.iterator]()},n:function(){var n=a.next();return r=n.done,n},e:function(n){o=!0,i=n},f:function(){try{r||null==a.return||a.return()}finally{if(o)throw i}}}}function c(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,a=new Array(t);e<t;e++)a[e]=n[e];return a}var d={data:function(){return{iframe:!1,iframeSrc:null,username:null,menus:[],activeName:"",tabs:[],tabIndex:2}},methods:{toPath:function(n){var t=n.url;this.goToPath(t),this.addTab(t,n.name)},goToPath:function(n){if(n&&(n.startsWith("http://")||n.startsWith("https://")))return this.iframe=!0,void(this.iframeSrc=n);this.iframe=!1,this.iframeSrc=null,this.$router.push({path:n}).catch((function(n){}))},tabClick:function(n){this.goToPath(n.name)},addTab:function(n,t){var e,a=u(this.tabs);try{for(a.s();!(e=a.n()).done;){if(e.value.name===n)return void(this.activeName=n)}}catch(n){a.e(n)}finally{a.f()}this.tabs.push({name:n,title:t}),this.activeName=n},removeTab:function(n){var t=this.tabs,e=this.activeName;e===n&&t.forEach((function(a,i){if(a.name==n){var r=t[i+1]||t[i-1];r&&(e=r.name)}})),this.activeName=e,this.tabs=t.filter((function(t){return t.name!==n})),this.goToPath(e)},logout:function(){l.a.logout({token:this.$Permission.getToken()}),sessionStorage.clear(),this.$router.push({path:"/login"})}},mounted:function(){this.menus=JSON.parse(sessionStorage.getItem(this.$Config.name.menusKey)),this.username=JSON.parse(sessionStorage.getItem(this.$Config.name.adminKey)).username,this.addTab(this.$route.path,this.$route.meta.title)},components:{EuiFooter:r,MenuTree:s}},f=(e(425),Object(i.a)(d,(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"main"},[e("div",{staticClass:"header"},[e("div",{staticClass:"logo"},[e("span",{staticClass:"big"},[n._v(n._s(n.$Config.name.siteName))])]),n._v(" "),e("div",{staticClass:"right"},[e("span",{staticClass:"header-btn"},[e("el-badge",{staticClass:"badge",attrs:{value:3}},[e("i",{staticClass:"el-icon-bell"})])],1),n._v(" "),e("el-dropdown",[e("span",{staticClass:"header-btn"},[n._v("\n          "+n._s(n.username)+"\n          "),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),n._v(" "),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e("el-dropdown-item",{nativeOn:{click:function(t){return n.$router.push("/personal")}}},[e("i",{staticClass:"fa fa-cog",staticStyle:{"padding-right":"8px"}}),n._v("个人中心\n          ")]),n._v(" "),e("el-dropdown-item",{nativeOn:{click:function(t){return n.logout(t)}}},[e("i",{staticClass:"fa fa-key",staticStyle:{"padding-right":"8px"}}),n._v("退出系统\n          ")])],1)],1)],1)]),n._v(" "),e("div",{staticClass:"app"},[e("div",{staticClass:"aside"},[e("div",{staticClass:"menu"},[e("el-menu",{staticClass:"menu",attrs:{"background-color":"#222d32","text-color":"#bbbbbb","active-text-color":"#fff"}},[e("MenuTree",{attrs:{menus:this.menus},on:{toPath:n.toPath}})],1)],1)]),n._v(" "),e("div",{staticClass:"app-body"},[e("el-tabs",{staticClass:"none-select",attrs:{id:"nav-bar",type:"card",closable:""},on:{"tab-click":n.tabClick,"tab-remove":n.removeTab},model:{value:n.activeName,callback:function(t){n.activeName=t},expression:"activeName"}},n._l(n.tabs,(function(n){return e("el-tab-pane",{key:n.name,attrs:{label:n.title,name:n.name}})})),1),n._v(" "),e("div",{staticClass:"main-container",attrs:{id:"mainContainer"}},[n.iframe?e("iframe",{staticStyle:{width:"calc(100% - 235px)",height:"calc(100% - 90px)"},attrs:{rameborder:"0",src:n.iframeSrc}}):e("router-view")],1)],1)])])}),[],!1,null,null,null));t.default=f.exports}}]);